"use strict";(self["webpackChunkfunniecafe"]=self["webpackChunkfunniecafe"]||[]).push([[548],{5548:function(e,a,s){s.r(a),s.d(a,{default:function(){return A}});var t=s(6252),l=s(3577),r=s(9963);const o=(0,t._)("div",{class:"d-flex justify-content-center align-items-center my-5 position-relative banner banner2 container-fluid"},[(0,t._)("h2",{class:"position-absolute text-center text-white fw-bolder"},"Checkout Process")],-1),n={class:"mb-5"},i={class:"container"},c=(0,t.uE)('<div class="row text-center px-3 my-5"><div class="col-4 d-flex flex-column p-3 fw-bold mb-0 bg-secondary bg-gradient bg-opacity-75 text-primary pay-header active"><span class="mb-2">STEP 1</span><span>Order Information</span></div><div class="col-4 d-flex flex-column p-3 fw-bold mb-0 bg-secondary bg-gradient bg-opacity-75 text-primary pay-header"><span class="mb-2">STEP 2</span><span>Payment Confirmation</span></div><div class="col-4 d-flex flex-column p-3 fw-bold mb-0 bg-secondary bg-gradient bg-opacity-75 text-primary pay-header"><span class="mb-2">STEP 3</span><span>Checkout Complete</span></div></div>',1),d={class:"row my-5 py-5 bg-light rounded-2"},m={class:"col-lg-7"},u=(0,t._)("h2",{class:"text-center fw-bold mb-4"},"Order Details",-1),p={class:"table-responsive-md mb-5 mb-lg-0"},b={class:"table align-middle table-light table-borderless"},f=(0,t._)("thead",{class:"text-center table-secondary"},[(0,t._)("tr",{class:"table-nowrap"},[(0,t._)("th",null,"Product"),(0,t._)("th",{class:"text-nowrap"},"Qty"),(0,t._)("th",{class:"text-end"},"Price")])],-1),h={class:"text-center"},_={class:"table-nowrap fw-bold text-primary"},g={class:"text-end text-nowrap"},y={key:0,class:"text-success text-end"},x=(0,t._)("td",{colspan:"2",class:"text-end fs-5"},"Total",-1),v={class:"text-end fs-5 text-primary fw-bold"},w={key:0},k=(0,t._)("td",{colspan:"2",class:"text-end text-success fs-5"},"Special：",-1),V={class:"text-end text-success fs-5 fw-bold"},C={class:"row col-lg-5"},P=(0,t._)("h2",{class:"text-center fw-bold mb-4"},"Customer Details",-1),W={class:"mb-3"},U=(0,t._)("label",{for:"email",class:"form-label"},[(0,t.Uk)("Email"),(0,t._)("small",{class:"ps-1 text-danger"},"(Required)")],-1),q={class:"mb-3"},$=(0,t._)("label",{for:"name",class:"form-label"},[(0,t.Uk)("Name"),(0,t._)("small",{class:"ps-1 text-danger"},"(Required)")],-1),D={class:"mb-3"},S=(0,t._)("label",{for:"tel",class:"form-label"},[(0,t.Uk)("Phone"),(0,t._)("small",{class:"ps-1 text-danger"},"(Required)")],-1),z={class:"mb-3"},E=(0,t._)("label",{for:"address",class:"form-label"},[(0,t.Uk)("Address"),(0,t._)("small",{class:"ps-1 text-danger"},"(Required)")],-1),L={class:"mb-3"},R=(0,t._)("label",{for:"message",class:"form-label"},"Comment",-1),F={class:"d-flex justify-content-between"},N=(0,t._)("i",{class:"bi bi-caret-left-fill"},null,-1),O=(0,t._)("button",{type:"submit",class:"btn btn-primary"},[(0,t.Uk)("Next"),(0,t._)("i",{class:"bi bi-caret-right-fill"})],-1);function T(e,a,s,T,j,Z){const H=(0,t.up)("Navbar"),I=(0,t.up)("LoadingVue"),Y=(0,t.up)("FieldVue"),A=(0,t.up)("ErrorMessage"),K=(0,t.up)("RouterLink"),M=(0,t.up)("FormVue"),Q=(0,t.up)("Footer");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(H),(0,t.Wm)(I,{active:j.isLoading,loader:"bars",color:"#6c584c",width:70,height:70},null,8,["active"]),o,(0,t._)("section",n,[(0,t._)("div",i,[c,(0,t._)("div",d,[(0,t._)("div",m,[u,(0,t._)("div",p,[(0,t._)("table",b,[f,(0,t._)("tbody",h,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(j.cart.carts,(a=>((0,t.wg)(),(0,t.iD)("tr",{class:"table-nowrap",key:a.id},[(0,t._)("td",_,(0,l.zw)(a.product.category)+" | "+(0,l.zw)(a.product.title),1),(0,t._)("td",null,(0,l.zw)(a.qty),1),(0,t._)("td",g,[j.cart.final_total!==j.cart.total?((0,t.wg)(),(0,t.iD)("small",y,"Special：")):(0,t.kq)("",!0),(0,t.Uk)(" "+(0,l.zw)(e.$filters.currency(a.final_total)),1)])])))),128))]),(0,t._)("tfoot",null,[(0,t._)("tr",null,[x,(0,t._)("td",v,(0,l.zw)(e.$filters.currency(j.cart.total)),1)]),j.cart.final_total!==j.cart.total?((0,t.wg)(),(0,t.iD)("tr",w,[k,(0,t._)("td",V,(0,l.zw)(e.$filters.currency(j.cart.final_total)),1)])):(0,t.kq)("",!0)])])])]),(0,t._)("div",C,[P,(0,t.Wm)(M,{onSubmit:Z.createOrder},{default:(0,t.w5)((({errors:e})=>[(0,t._)("div",W,[U,(0,t.Wm)(Y,{id:"email",name:"email",type:"email",class:(0,l.C_)(["form-control",{"is-invalid":e["email"]}]),placeholder:"Please enter your email",rules:"email|required",modelValue:j.form.user.email,"onUpdate:modelValue":a[0]||(a[0]=e=>j.form.user.email=e)},null,8,["class","modelValue"]),(0,t.Wm)(A,{name:"email",class:"invalid-feedback"})]),(0,t._)("div",q,[$,(0,t.Wm)(Y,{id:"name",name:"name",type:"text",class:(0,l.C_)(["form-control",{"is-invalid":e["name"]}]),placeholder:"Please enter your name",rules:"required",modelValue:j.form.user.name,"onUpdate:modelValue":a[1]||(a[1]=e=>j.form.user.name=e)},null,8,["class","modelValue"]),(0,t.Wm)(A,{name:"name",class:"invalid-feedback"})]),(0,t._)("div",D,[S,(0,t.Wm)(Y,{id:"tel",name:"phone number",type:"tel",class:(0,l.C_)(["form-control",{"is-invalid":e["phone number"]}]),placeholder:"Please enter your phone number",rules:"required",modelValue:j.form.user.tel,"onUpdate:modelValue":a[2]||(a[2]=e=>j.form.user.tel=e)},null,8,["class","modelValue"]),(0,t.Wm)(A,{name:"phone number",class:"invalid-feedback"})]),(0,t._)("div",z,[E,(0,t.Wm)(Y,{id:"address",name:"address",type:"text",class:(0,l.C_)(["form-control",{"is-invalid":e["address"]}]),placeholder:"Please enter your address",rules:"required",modelValue:j.form.user.address,"onUpdate:modelValue":a[3]||(a[3]=e=>j.form.user.address=e)},null,8,["class","modelValue"]),(0,t.Wm)(A,{name:"address",class:"invalid-feedback"})]),(0,t._)("div",L,[R,(0,t.wy)((0,t._)("textarea",{name:"",id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":a[4]||(a[4]=e=>j.form.message=e)},null,512),[[r.nr,j.form.message]])]),(0,t._)("div",F,[(0,t.Wm)(K,{class:"btn btn-outline-primary",to:"/cart"},{default:(0,t.w5)((()=>[N,(0,t.Uk)("Previous")])),_:1}),O])])),_:1},8,["onSubmit"])])])])]),(0,t.Wm)(Q)],64)}s(7658);var j=s(11),Z=s(8186),H={components:{Navbar:j.Z,Footer:Z.Z},data(){return{isLoading:!1,total:0,final_total:0,form:{user:{name:"",email:"",tel:"",address:""},message:""},cart:{},coupon_code:""}},inject:["emitter"],methods:{getCart(){const e="https://vue3-course-api.hexschool.io/api/funniecafe-api/cart";this.isLoading=!0,this.$http.get(e).then((e=>{this.cart=e.data.data,this.isLoading=!1})).catch((e=>{this.emitter.emit("push-message",{style:"danger",title:`${e.response.data.message}`})}))},createOrder(){const e="https://vue3-course-api.hexschool.io/api/funniecafe-api/order",a=this.form;this.$http.post(e,{data:a}).then((e=>{this.$router.push(`/checkorder/${e.data.orderId}`)})).catch((e=>{this.emitter.emit("push-message",{style:"danger",title:`${e.response.data.message}`})}))}},created(){this.getCart()}},I=s(3744);const Y=(0,I.Z)(H,[["render",T]]);var A=Y}}]);
//# sourceMappingURL=548.5fab23b7.js.map